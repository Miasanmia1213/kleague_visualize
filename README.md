====================================================================
               K-GAFFER: K리그1 전술 분석 대시보드 & AI 감독
====================================================================

[1. 프로젝트 소개]
이 프로젝트는 2024 K리그1 데이터를 기반으로 팀과 선수의 세부 기록을 시각화하고, 
Google Gemini AI를 활용하여 실제 감독의 페르소나와 대화할 수 있는 
웹 기반 분석 대시보드입니다.

[2. 주요 기능]
1. Team Profile: 구단 정보, 역대 기록, 2024 시즌 베스트 11, 주요 부상자 현황
2. Match Summary: 경기 스코어, 모멘텀(흐름) 그래프, 팀 스타일 레이더 차트
3. Attack Analysis: xG(기대득점) 타임라인, 슈팅 맵(Shot Map), 히트맵, 공격 방향
4. Pass Analysis: 패스 네트워크, 패스 플로우, 패스 소나(방향)
5. Defense Analysis: 수비 라인 높이, 수비 액션 위치 시각화
6. AI Talk (New): 
   - 선택한 경기 시점의 실제 감독(예: 단 페트레스쿠, 김두현 등)과 전술 대화
   - 실제 경기 데이터(xG, 슈팅 수 등)를 기반으로 한 AI의 분석 답변 제공
   - 감독 고유의 말투와 성격 반영 (Persona Injection)

[3. 필수 요구 사항 (Prerequisites)]
이 프로그램을 실행하기 위해서는 Python 3.8 이상과 아래 라이브러리들이 필요합니다.

* 설치 명령어:
  pip install dash dash-bootstrap-components plotly pandas numpy scipy google-generativeai python-dotenv

[4. 폴더 및 파일 구조]
프로젝트 폴더는 아래와 같은 구조를 유지해야 합니다.

K_LEAGUE_PROJECT/
├── app.py                     # 메인 실행 파일 (Dash 어플리케이션)
├── api.env                    # Google Gemini API 키 저장 파일
├── assets/                    # 이미지 리소스 폴더
│   └── pictures/
│       ├── logos/             # 구단 로고
│       ├── kits/              # 유니폼 이미지
│       ├── players/           # 선수 사진
│       ├── managers/          # 감독 사진
│       ├── stadiums/          # 경기장 사진
│       └── ...
└── data/                      # 데이터 파일 폴더
    ├── raw_data.csv                   # 경기 이벤트 원본 데이터
    ├── match_info.csv                 # 경기 일정 및 대진 정보
    ├── 2024_하나은행_K리그1_경기기록.csv # 선수별 세부 스탯
    └── k_league_2024_integrated.csv   # 부상자 명단 데이터

[5. 설정 방법 (Configuration)]

1. Google Gemini API 키 발급
   - https://aistudio.google.com/ 에서 무료 API 키를 발급받으세요.

2. api.env 파일 생성
   - 프로젝트 루트 경로에 `api.env` 파일을 만들고 아래 내용을 작성하세요.
   -------------------------------------------------------
   GEMINI_API_KEY=여기에_발급받은_API_키를_붙여넣으세요
   -------------------------------------------------------
   (*주의: 따옴표 없이 키 값만 입력하세요)

[6. 실행 방법]
1. 터미널(CMD)을 열고 프로젝트 폴더로 이동합니다.
2. 아래 명령어를 입력하여 서버를 실행합니다.
   
   python app.py

3. 브라우저를 열고 주소창에 아래 주소를 입력합니다.
   http://127.0.0.1:8050/

[7. 사용 팁]
- 'Mode'를 'Specific Match'로 선택하면 특정 경기의 상세 데이터를 볼 수 있습니다.
- 'Talk' 탭에서 AI 감독에게 "왜 졌나요?", "오늘 전술의 핵심은?" 등을 물어보세요.
- AI는 선택된 경기의 날짜를 인식하여, 당시 재임 중이던 감독(예: 전북 4월-페트레스쿠, 6월-김두현)으로 자동 변경됩니다.

[8. 라이선스 및 데이터 출처]
- 데이터 출처: K리그 데이터 포털 (비공식 수집 데이터 포함)
- 시각화 라이브러리: Plotly & Dash
- AI 모델: Google Gemini 2.0 Flash

====================================================================
